(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{110:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(24),o=t.n(c),r=(t(83),t(84),t(4)),m=t(9),s=t(11),i=t(7),d=t.n(i),u=t(8),p=t.n(u),E=t(28),h=t(116),g=t(115);var v=function(e){var a=Object(n.useState)(p.a.get("token")),t=Object(r.a)(a,2),c=(t[0],t[1],Object(s.g)()),o=Object(n.useState)(c.pathname),i=Object(r.a)(o,2),d=i[0],u=i[1],E=function(e){u(e),console.log(c.pathname)};return e.isLoggedIn?l.a.createElement(h.a,{className:"navbar navbar-expand-lg navbar-light bg-blue shadow-sm",expand:"lg",fixed:"top"},l.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(h.a.Brand,{href:"#home"},"touch&go"),l.a.createElement(g.a,{className:"text-center ml-auto"},l.a.createElement(m.b,{className:"/"===d?"active nav-link":"nav-link",to:"/",onClick:function(){E("/")}},"Home",l.a.createElement("span",{className:"sr-only"},"(current)")),l.a.createElement(m.b,{className:"/stores"===d?"active nav-link":"nav-link",to:"/stores",onClick:function(){return E("/stores")}},"View stores",l.a.createElement("span",{className:"sr-only"},"(current)")),l.a.createElement(m.b,{className:"/orders"===d?"active nav-link":"nav-link",to:"/orders",onClick:function(){E("/orders")}},"Orders",l.a.createElement("span",{className:"sr-only"},"(current)")),l.a.createElement(m.b,{className:"/Logout"===d?"active nav-link":"nav-link",onClick:function(){E("/Orders")}},"Logout",l.a.createElement("span",{className:"sr-only"},"(current)"))))):l.a.createElement(h.a,{className:"navbar navbar-expand-lg navbar-light bg-blue shadow-sm",expand:"lg",fixed:"top"},l.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(h.a.Brand,{href:"#home"},"touch&go"),l.a.createElement(g.a,{className:"text-center ml-auto"},l.a.createElement(m.b,{className:"/"===d?"active nav-link":"nav-link",to:"/",onClick:function(){E("/")}},"Home",l.a.createElement("span",{className:"sr-only"},"(current)")),l.a.createElement(m.b,{className:"/stores"===d?"active nav-link":"nav-link",to:"/stores",onClick:function(){return E("/stores")}},"View stores",l.a.createElement("span",{className:"sr-only"},"(current)")),l.a.createElement(m.b,{className:"/login"===d?"active nav-link":"nav-link",onClick:function(){E("/login"),e.setShowLoginModal(!0)}},"Login",l.a.createElement("span",{className:"sr-only"},"(current)")),l.a.createElement(m.b,{className:"/register"===d?"active nav-link":"nav-link",onClick:function(){E("/register"),e.setShowRegisterModal(!0)}},"Register",l.a.createElement("span",{className:"sr-only"},"(current)")))))},b=t(49),f=t(10),N=function(e){var a=Object(n.useState)(0),t=Object(r.a)(a,2),c=t[0],o=t[1],m=Object(n.useState)(0),i=Object(r.a)(m,2),u=i[0],p=(i[1],Object(n.useState)(0)),E=Object(r.a)(p,2),h=E[0],g=E[1],v=Object(n.useState)(0),N=Object(r.a)(v,2),w=(N[0],N[1],Object(n.useState)(!1)),S=Object(r.a)(w,2),y=S[0],O=(S[1],Object(s.h)().id);Object(n.useEffect)((function(){d.a.get("http://localhost:8000/api/meal/".concat(O)).then((function(e){console.log(e.data),o(e.data),g(e.data.price)})).catch((function(e){console.log(e)})).then((function(){}))}),[O]);var j=Object(f.a)({initialValues:{id:O,price:h,notes:"",quantity:""},onSubmit:function(a){a.price=h,a.name=c.name,a.quantity=u,a.store_id=c.store_id,e.handleCartSubmit(a),window.history.back()}}),C=Object(b.b)({opacity:1,from:{opacity:0}});return y?l.a.createElement(s.a,{to:"/orders"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a.div,{style:C},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("img",{src:"http://localhost:8000/storage/".concat(c.image_name),style:{width:"100%"}})),l.a.createElement("div",{className:"col"},l.a.createElement("form",{onSubmit:j.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",{className:"text-center"},c.name))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h6",{className:"text-center"},"Ingredients: ",c.ingredients))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h6",{className:"text-center"},"R",function(e,a){var t=e*a;return console.log(a),t}(j.values.quantity,h)))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Quantity"),l.a.createElement("select",{className:"form-control",id:"quantity",name:"quantity",onChange:j.handleChange,value:j.values.quantity},l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Note to preparer"),l.a.createElement("textarea",{className:"form-control",rows:"3",placeholder:"Example remove lettuce",name:"notes",id:"notes",value:j.values.notes,onChange:j.handleChange})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col align-self-center"},l.a.createElement("button",{className:"btn btn-success btn-block",type:"submit"},"Add to Order")))))))))},w=t(20),S=t(33),y=t(27),O=t(25),j=function(e){Object(y.a)(t,e);var a=Object(O.a)(t);function t(){var e;Object(w.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).state={cart:[],totalPrice:0,meals:[],isLoaded:null,error:null},e}return Object(S.a)(t,[{key:"getMeals",value:function(){var e=this;d.a.get("http://localhost:8000/api/meal").then((function(a){e.setState({meals:a.data}),console.log(e.state.meals)})).catch((function(e){console.log(e)})).then((function(){}))}},{key:"componentDidMount",value:function(){this.getMeals()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.meals.map((function(e,a){return l.a.createElement("div",{className:"card col-3 text-center",key:a,style:{width:"18rem",height:"18rem",marginLeft:"20px",marginBottom:"20px"}},l.a.createElement("img",{className:"card-img-top",src:"http://localhost:8000/storage/".concat(e.imageName),style:{width:"100% !important"}}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},e.name),l.a.createElement("p",{className:"card-text"},e.price),l.a.createElement(m.b,{className:"btn btn-success",to:"/meal/".concat(e.id)},"View")))})))}}]),t}(n.Component),C=t(29),x=t(112),k=function(e){var a=Object(n.useState)(0),t=Object(r.a)(a,2),c=(t[0],t[1],Object(n.useState)(0)),o=Object(r.a)(c,2),m=(o[0],o[1],Object(n.useState)(0)),i=Object(r.a)(m,2),d=(i[0],i[1],Object(n.useState)(0)),u=Object(r.a)(d,2);u[0],u[1],Object(s.h)().id,Object(b.b)({opacity:1,from:{opacity:0}});return l.a.createElement(l.a.Fragment,null,e.storeProducts.map((function(a,t){return l.a.createElement("div",{className:"card col-md-3  text-right",key:t,style:{width:"18rem",marginLeft:"20px",marginBottom:"20px",paddingRight:"0",paddingLeft:"0"}},l.a.createElement("img",{className:"card-img-top",src:"http://localhost:8000/storage/".concat(a.image_name),style:{width:"100% !important",height:"15vw",objectFit:"cover"}}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title text-center"},a.name),l.a.createElement("p",{className:"card-text text-center"},l.a.createElement(E.a,{icon:C.a})," ","15-25 min"),l.a.createElement("h6",{className:"text-center"},"R",a.price),l.a.createElement(x.a,{className:"btn btn-success btn-block",onClick:function(){e.showProductModal(t)},id:t},"View")))})))},L=t(114),M=t(113),F=function(e){var a,t,c=Object(n.useState)(1),o=Object(r.a)(c,2),m=o[0],s=o[1],i=Object(n.useState)(e.modalproduct.id),d=Object(r.a)(i,2),u=(d[0],d[1],Object(f.a)({initialValues:{notes:"",quantity:m},onSubmit:function(a){a.name=e.modalproduct.name,a.price=e.modalproduct.price,a.quantity=m,console.log(a);e.handleCartSubmit(a),e.closeProductModal(),e.handleAlert("Added to cart.")}}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(L.a,{show:e.showProduct,onHide:e.closeProductModal,centered:!0},l.a.createElement(L.a.Header,{closeButton:!0},l.a.createElement(L.a.Title,null,e.modalproduct.name)),l.a.createElement("img",{src:"http://localhost:8000/storage/".concat(e.modalproduct.image_name),alt:"",style:{width:"100%",height:"328px"}}),l.a.createElement(L.a.Body,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("form",{onSubmit:u.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",{className:"text-center"},e.modalproduct.name))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h6",{className:"text-center"},"Ingredients: ",e.modalproduct.ingredients))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h6",{className:"text-center"},"R ",(a=m,t=e.modalproduct.price,a*t)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col text-center"},l.a.createElement(M.a,{"aria-label":"Basic example"},l.a.createElement(x.a,{variant:"secondary",onClick:function(){!function(e){s(e-1)}(m)}},"-"),l.a.createElement(x.a,{variant:"secondary",disabled:!0},m),l.a.createElement(x.a,{variant:"secondary",onClick:function(){!function(e){s(e+1)}(m)}},"+")))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Note to preparer"),l.a.createElement("textarea",{className:"form-control",rows:"3",placeholder:"Example remove lettuce",name:"notes",id:"notes",value:u.values.notes,onChange:u.handleChange})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col align-self-center"},l.a.createElement("button",{className:"btn btn-success btn-block",type:"submit"},"Add to Order"))))))))))},q=function(e){var a=Object(n.useState)(!1),t=Object(r.a)(a,2),c=t[0],o=t[1],i=Object(f.a)({initialValues:{order:e.cart},onSubmit:function(a){var t;console.log(a),e.checkLogin(),console.log(a),(new FormData).append("order",a.order),t=a,e.checkLogin()&&d.a.post("http://localhost:8000/api/order",t,{headers:{Authorization:"Bearer "+p.a.get("token")}}).then((function(a){o(!0),e.isLoggedIn})).catch((function(e){console.log(e)})).then((function(){}))}});return c?l.a.createElement(s.a,{to:"/orders"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Meal"),l.a.createElement("th",null,"Quantity"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,e.cart.map((function(a,t){if("undefined"!==a)return l.a.createElement("tr",{key:a.id},l.a.createElement("td",null,a.name),l.a.createElement("td",null,a.quantity),l.a.createElement("td",null,a.price),l.a.createElement("td",null,l.a.createElement(m.b,{className:"btn btn-sm btn-success",to:"/cart/edit/".concat(a.id),onClick:function(){return e.handleEditFormChange(t)}},l.a.createElement(E.a,{icon:C.b})),l.a.createElement("span",{className:"ml-2",value:t,price:a.price,id:"delete",onClick:function(){return e.handleCartDelete(t)}},l.a.createElement(E.a,{icon:C.c}))))})),l.a.createElement("tr",null,l.a.createElement("td",null,"Total"),l.a.createElement("td",null),l.a.createElement("td",null,function(){var a=0;return e.cart.map((function(e){a+=parseFloat(e.price)*e.quantity})),console.log(a),a}())))),l.a.createElement("form",{onSubmit:i.handleSubmit},l.a.createElement("input",{type:"hidden",name:"order",id:"order",onChange:i.handleChange,value:i.values.order}),l.a.createElement("button",{className:"btn btn-info",type:"submit"},"Send order")))},P=function(e){Object(s.h)().id;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"jumbotron",style:{backgroundImage:"url(http://localhost:8000/storage/".concat(e.getStore.imageUpload,")"),backgroundSize:"cover",height:"300px"}}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("h1",null,e.getStore.name)),l.a.createElement("div",{className:"row"},l.a.createElement("p",null,e.getStore.description)),l.a.createElement("div",{className:"row"},l.a.createElement("h5",null,"Hours: ",e.getStore.operation_hours)),l.a.createElement("div",{className:"row"},l.a.createElement("h5",null,"Meals on offer")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:" col-md-8 col-sm-12"},l.a.createElement("div",{className:"row"},l.a.createElement(k,{showProductModal:e.showProductModal,storeProducts:e.products}))),l.a.createElement("div",{className:" col-md-4  col-sm-12"},l.a.createElement("div",{className:"row"},l.a.createElement(q,{checkLogin:e.checkLogin,setShowLoginModal:e.setShowLoginModal,isLoggedIn:e.isLoggedIn,showLoginModal:e.showLoginModal,cart:e.cart,handleCartDelete:e.handleCartDelete})," ")))),l.a.createElement(F,{handleAlert:e.handleAlert,handleCartSubmit:e.handleCartSubmit,modalproduct:e.modalproduct,closeProductModal:e.closeProductModal,showProduct:e.showProduct}))},I=function(e){Object(s.h)().id;var a=Object(n.useState)([]),t=Object(r.a)(a,2),c=t[0],o=t[1],i=Object(f.a)({initialValues:{notes:"",quantity:""},onSubmit:function(a){a.name=e.modalproduct.name,a.price=e.modalproduct.price,console.log(a);e.handleCartSubmit(a),e.closeProductModal(),e.handleAlert("Added to cart.")}});return Object(n.useEffect)((function(){d.a.get("http://localhost:8000/api/store").then((function(e){return o(e.data),console.log(e.data),e.data})).catch((function(e){console.log(e)})).then((function(){}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("h4",null,"Filter")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Store type"),l.a.createElement("select",{className:"form-control",id:"quantity",onChange:i.handleChange,value:i.values.prepTime},l.a.createElement("option",{value:"1"},"5min"),l.a.createElement("option",{value:"2"},"10min"),l.a.createElement("option",{value:"3"},"15min"),l.a.createElement("option",{value:"4"},"20min"),l.a.createElement("option",{value:"5"},"25min"),l.a.createElement("option",{value:"5"},"30min"),l.a.createElement("option",{value:"5"},"35min"),l.a.createElement("option",{value:"5"},"45min"),l.a.createElement("option",{value:"5"},"50min"),l.a.createElement("option",{value:"5"},"55min"),l.a.createElement("option",{value:"5"},"Hour")))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Location"),l.a.createElement("select",{className:"form-control",id:"quantity",onChange:i.handleChange,value:i.values.prepTime},l.a.createElement("option",{value:"1"},"5min"),l.a.createElement("option",{value:"2"},"10min"),l.a.createElement("option",{value:"3"},"15min"),l.a.createElement("option",{value:"4"},"20min"),l.a.createElement("option",{value:"5"},"25min"),l.a.createElement("option",{value:"5"},"30min"),l.a.createElement("option",{value:"5"},"35min"),l.a.createElement("option",{value:"5"},"45min"),l.a.createElement("option",{value:"5"},"50min"),l.a.createElement("option",{value:"5"},"55min"),l.a.createElement("option",{value:"5"},"Hour")))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Preparation time"),l.a.createElement("select",{className:"form-control",id:"quantity",onChange:i.handleChange,value:i.values.prepTime},l.a.createElement("option",{value:"1"},"5min"),l.a.createElement("option",{value:"2"},"10min"),l.a.createElement("option",{value:"3"},"15min"),l.a.createElement("option",{value:"4"},"20min"),l.a.createElement("option",{value:"5"},"25min"),l.a.createElement("option",{value:"5"},"30min"),l.a.createElement("option",{value:"5"},"35min"),l.a.createElement("option",{value:"5"},"45min"),l.a.createElement("option",{value:"5"},"50min"),l.a.createElement("option",{value:"5"},"55min"),l.a.createElement("option",{value:"5"},"Hour")))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Preparation time"),l.a.createElement("select",{className:"form-control",id:"quantity",onChange:i.handleChange,value:i.values.prepTime},l.a.createElement("option",{value:"1"},"5min"),l.a.createElement("option",{value:"2"},"10min"),l.a.createElement("option",{value:"3"},"15min"),l.a.createElement("option",{value:"4"},"20min"),l.a.createElement("option",{value:"5"},"25min"),l.a.createElement("option",{value:"5"},"30min"),l.a.createElement("option",{value:"5"},"35min"),l.a.createElement("option",{value:"5"},"45min"),l.a.createElement("option",{value:"5"},"50min"),l.a.createElement("option",{value:"5"},"55min"),l.a.createElement("option",{value:"5"},"Hour"))))),l.a.createElement("div",{className:"row"},c.map((function(a,t){return l.a.createElement("div",{className:"card col-3 text-center",key:t,style:{width:"18rem",marginLeft:"20px",marginBottom:"20px"}},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},a.name),l.a.createElement("p",{className:"card-text"},a.location),l.a.createElement("p",{className:"card-text"},a.operation_hours),l.a.createElement(m.b,{className:"btn btn-secondary",onClick:function(){e.handleGetStore(a.id)},to:"/stores/".concat(a.id)},"View store")))}))))},A=t(13),_=function(e){var a,t,n=Object(f.a)({initialValues:{name:"",email:"",password:"",password_confirmation:""},onSubmit:function(e){var a=new FormData;a.append("name",e.name),a.append("email",e.email),a.append("password",e.password),a.append("password_confirmation",e.password_confirmation),d.a.post("http://localhost:8000/api/register",a).then((function(e){p.a.set("token","".concat(e.data.access_token),{expires:7}),d.a.post("http://localhost:8000/api/store",{id:e.data.user.id}).then((function(){console.log(e)}))})).catch((function(e){console.log(e)}))}});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Register"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:n.handleSubmit},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"name",className:"col-md-4 col-form-label text-md-right"},"Name"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",(a={id:"name",type:"text",className:"form-control",name:"name",value:"",onChange:n.handleChange},Object(A.a)(a,"value",n.values.price),Object(A.a)(a,"required",!0),a)))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"email",className:"col-md-4 col-form-label text-md-right"},"E-Mail Address"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",(t={id:"email",type:"email",className:"form-control",name:"email",value:"",onChange:n.handleChange},Object(A.a)(t,"value",n.values.price),Object(A.a)(t,"required",!0),t)))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"password",className:"col-md-4 col-form-label text-md-right"},"Password"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{id:"password",type:"password",className:"form-control",name:"password",onChange:n.handleChange,value:n.values.price,required:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"password-confirm",className:"col-md-4 col-form-label text-md-right"},"Confirm Password"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{id:"password-confirm",type:"password",className:"form-control",onChange:n.handleChange,value:n.values.price,name:"password_confirmation",required:!0}))),l.a.createElement("div",{className:"form-group row mb-0"},l.a.createElement("div",{className:"col-md-6 offset-md-4"},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:n.handleSubmit},"Register"))))))))},R=function(e){var a=Object(n.useState)([]),t=Object(r.a)(a,2),c=t[0],o=t[1],m=Object(n.useState)(!1),i=Object(r.a)(m,2),u=i[0],p=i[1],E=Object(s.h)().id;Object(n.useEffect)((function(){d.a.get("http://localhost:8000/api/meal/".concat(E)).then((function(e){console.log(e.data),o(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}),[E]);var h,g,v=e.cart.filter((function(e){return e.id===E})),b=Object(f.a)({initialValues:{id:E,price:v[0].price,notes:v[0].notes,quantity:v[0].quantity},onSubmit:function(a){a.name=c.name,console.log(a),e.handleEditSubmit(a),p(!0)}});return u?l.a.createElement(s.a,{to:"/cart"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"jumbotron",style:{backgroundImage:"url(/img/".concat(c.imageName,")"),backgroundSize:"cover"}}),l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:b.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",{className:"text-center"},c.name))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h6",{className:"text-center"},"Ingredients: ",c.ingredients))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h6",{className:"text-center"},"R",(h=b.values.quantity,g=c.price,(h*g).toFixed(2))))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Quantity"),l.a.createElement("select",{className:"form-control",id:"quantity",onChange:b.handleChange,value:b.values.quantity},l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Note to chef"),l.a.createElement("textarea",{className:"form-control",rows:"3",placeholder:"Example remove lettuce",id:"notes",onChange:b.handleChange,value:b.values.notes})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col align-self-center"},l.a.createElement("button",{className:"btn btn-success",type:"submit"},"Save changes"))))))},B=function(e){Object(s.h)().id;var a=Object(f.a)({initialValues:{email:"",password:""},onSubmit:function(a){e.isLoggedIn();var n=new FormData;n.append("email",a.email),n.append("password",a.password),t(n)}}),t=function(e){d.a.post("http://localhost:8000/api/login",e).then((function(e){p.a.set("username","".concat(e.data.user.name),{expires:7}),p.a.set("token","".concat(e.data.access_token),{expires:7}),p.a.set("id","".concat(e.data.user.id),{expires:7}),console.log(e)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){})),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Login"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:a.handleSubmit},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"email",className:"col-md-4 col-form-label text-md-right"},"Email address"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("input",{id:"email",type:"email",className:"form-control",name:"email",onChange:a.handleChange,value:a.values.email,required:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"password",className:"col-md-4 col-form-label text-md-right"},"Password"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("input",{id:"password",type:"password",className:"form-control",name:"password",required:!0,onChange:a.handleChange,value:a.values.password}))),l.a.createElement("div",{className:"form-group row mb-0"},l.a.createElement("div",{className:"col-md-8 offset-md-4"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Login"))))))))},V=function(e){var a,t,n=Object(f.a)({initialValues:{name:"",email:"",password:"",password_confirmation:""},onSubmit:function(e){var a=new FormData;a.append("name",e.name),a.append("email",e.email),a.append("password",e.password),a.append("password_confirmation",e.password_confirmation),d.a.post("http://localhost:8000/api/register",a).then((function(e){p.a.set("token","".concat(e.data.access_token),{expires:7}),d.a.post("http://localhost:8000/api/store",{id:e.data.user.id}).then((function(){console.log(e)}))})).catch((function(e){console.log(e)}))}});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Register"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:n.handleSubmit},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"name",className:"col-md-4 col-form-label text-md-right"},"Name"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",(a={id:"name",type:"text",className:"form-control",name:"name",value:"",onChange:n.handleChange},Object(A.a)(a,"value",n.values.price),Object(A.a)(a,"required",!0),a)))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"email",className:"col-md-4 col-form-label text-md-right"},"E-Mail Address"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",(t={id:"email",type:"email",className:"form-control",name:"email",value:"",onChange:n.handleChange},Object(A.a)(t,"value",n.values.price),Object(A.a)(t,"required",!0),t)))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"password",className:"col-md-4 col-form-label text-md-right"},"Password"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{id:"password",type:"password",className:"form-control",name:"password",onChange:n.handleChange,value:n.values.price,required:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"password-confirm",className:"col-md-4 col-form-label text-md-right"},"Confirm Password"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{id:"password-confirm",type:"password",className:"form-control",onChange:n.handleChange,value:n.values.price,name:"password_confirmation",required:!0}))),l.a.createElement("div",{className:"form-group row mb-0"},l.a.createElement("div",{className:"col-md-6 offset-md-4"},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:n.handleSubmit},"Register"))))))))},D=function(e){var a,t=Object(f.a)({initialValues:{productName:"",price:0,ingredients:"",imageUpload:""},onSubmit:function(e){var a=new FormData;a.append("productName",e.productName),a.append("ingredients",e.ingredients),a.append("price",e.price),a.append("imageUpload",e.imageUpload),function(e){var a=this;d.a.post("http://localhost:8000/api/meal",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){a.setState({isPost:!0}),console.log(e)})).catch((function(e){console.log(e)})).then((function(){}))}(a)}});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:t.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Product name"),l.a.createElement("input",{className:"form-control",placeholder:"Example remove lettuce",id:"productName",onChange:t.handleChange,value:t.values.productName})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Ingredients"),l.a.createElement("input",{className:"form-control",placeholder:"Example remove lettuce",id:"ingredients",onChange:t.handleChange,value:t.values.ingredients})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Price"),l.a.createElement("input",{className:"form-control",placeholder:"Example remove lettuce",id:"price",onChange:t.handleChange,value:t.values.price})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Image upload"),l.a.createElement("input",(a={className:"form-control",type:"file"},Object(A.a)(a,"className","form-control-file"),Object(A.a)(a,"id","imageUpload"),Object(A.a)(a,"name","imageUpload"),Object(A.a)(a,"onChange",(function(e){t.setFieldValue("imageUpload",e.currentTarget.files[0])})),a))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col align-self-center"},l.a.createElement("button",{className:"btn btn-success pull-right",type:"submit"},"Save"))))))},H=function(){Object(s.h)().id;var e=Object(n.useState)([]),a=Object(r.a)(e,2),t=a[0],c=a[1],o=p.a.get("id"),m={1:"Received",2:"Preparing",3:"Completed"};console.log(o);return Object(n.useEffect)((function(){d.a.get("http://localhost:8000/api/userorder/".concat(o)).then((function(e){c(e.data),console.log(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}),[o]),l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Order #"),l.a.createElement("th",null,"Quantity"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,t.map((function(e,a){if("undefined"!==e)return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,"#",e.id),l.a.createElement("td",null,e.status),l.a.createElement("td",null,"R",function(e){var a=JSON.parse(e);console.log("object"),console.log(a),console.log(e);var t=0;return a.map((function(e,a){t=e.quantity*(t+parseFloat(e.price))})),t}(e.formConfig)),l.a.createElement("td",null,m[e.status]))})),l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null)))))},T=function(e){var a=Object(n.useState)([{id:"3",price:"54",notes:"",quantity:0,name:"Dinner",store_id:11}]),t=Object(r.a)(a,2);t[0],t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"py-4 container"},l.a.createElement("div",{className:"justify-content-center col-12"},l.a.createElement(s.b,{exact:!0,path:"/stores"},l.a.createElement(I,{handleGetStore:e.handleGetStore})),l.a.createElement(s.b,{path:"/stores/:id"},l.a.createElement(P,{cart:e.cart,storeDetails:e.storeDetails,handleStoreImageUpdate:e.handleStoreImageUpdate,handleCartSubmit:e.handleCartSubmit,setShowLoginModal:e.setShowLoginModal,checkLogin:e.checkLogin})),l.a.createElement(s.b,{path:"/meals"},l.a.createElement(j,null)),l.a.createElement(s.b,{path:"/meal/:id"},l.a.createElement(N,{meals:e.meals,cart:e.cart,onQuantityChange:e.onQuantityChange,onNoteChange:e.onNoteChange,orderForm:e.orderForm,onPriceChange:e.onPriceChange,onMealChange:e.onMealChange,onSubmit:e.onSubmit,handleCartSubmit:e.handleCartSubmit})),l.a.createElement(s.b,{path:"/create-meal"},l.a.createElement(D,null)),l.a.createElement(s.b,{path:"/create-user"},l.a.createElement(_,null)),l.a.createElement(s.b,{path:"/cart/edit/:id"},l.a.createElement(R,{cart:e.cart,meals:e.meals,onNoteChange:e.onNoteChange,onPriceChange:e.onPriceChange,onMealChange:e.onMealChange,orderForm:e.orderForm,onQuantityChange:e.onQuantityChange,handleEditSubmit:e.onEditSubmit})),l.a.createElement(s.b,{path:"/login"},l.a.createElement(B,{isLoggedIn:e.isLoggedIn})),l.a.createElement(s.b,{path:"/register"},l.a.createElement(V,null)),l.a.createElement(s.b,{path:"/orders"},l.a.createElement(H,null)))))},U=function(e){var a=Object(f.a)({initialValues:{email:"",password:""},onSubmit:function(e){var a=new FormData;a.append("email",e.email),a.append("password",e.password),t(a)}}),t=function(a){d.a.post("http://localhost:8000/api/login",a).then((function(a){p.a.set("username","".concat(a.data.user.name),{expires:7}),p.a.set("token","".concat(a.data.access_token),{expires:7}),p.a.set("id","".concat(a.data.user.id),{expires:7}),e.setLogin(!0),e.setShowLoginModal(!1),e.handleAlert("Successfully Logged in!"),console.log(a)})).catch((function(e){console.log(e)})).then((function(){}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(L.a,{show:e.showLoginModal,onHide:e.setShowLoginModal,centered:!0},l.a.createElement(L.a.Header,{closeButton:!0},l.a.createElement(L.a.Title,null,"Log in")),l.a.createElement(L.a.Body,null,l.a.createElement("div",{className:"container mb-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col mb-3"})),l.a.createElement("div",{className:"col"},l.a.createElement("form",{onSubmit:a.handleSubmit},l.a.createElement("div",{className:"form-group row"},l.a.createElement("h1",{className:"col text-center"},"touch&go"),l.a.createElement("label",{htmlFor:"email",className:"col-form-label text-center"}," Login to your account and try again or register for a new account.")),l.a.createElement("div",{className:"form-group row"},l.a.createElement("input",{id:"email",type:"email",placeholder:"email",className:"form-control",name:"email",onChange:a.handleChange,value:a.values.email,required:!0})),l.a.createElement("div",{className:"form-group row"},l.a.createElement("input",{id:"password",type:"password",placeholder:"password",className:"form-control",name:"password",required:!0,onChange:a.handleChange,value:a.values.password})),l.a.createElement("div",{className:"form-group row mb-0"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("button",{type:"submit",className:"btn btn-info btn-block"},"Log in"))),l.a.createElement("hr",null)))))))},Q=function(e){var a=Object(f.a)({initialValues:{email:"",password:""},onSubmit:function(e){var a=new FormData;a.append("email",e.email),a.append("password",e.password),t(a)}}),t=function(a){d.a.post("http://localhost:8000/api/login",a).then((function(a){p.a.set("username","".concat(a.data.user.name),{expires:7}),p.a.set("token","".concat(a.data.access_token),{expires:7}),p.a.set("id","".concat(a.data.user.id),{expires:7}),e.setLogin(!0),e.setShowLoginModal(!1),e.handleAlert("Successfully Logged in!"),console.log(a)})).catch((function(e){console.log(e)})).then((function(){}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(L.a,{show:e.showRegisterModal,onHide:e.setShowRegisterModal,centered:!0},l.a.createElement(L.a.Header,{closeButton:!0},l.a.createElement(L.a.Title,null,"Sign Up")),l.a.createElement(L.a.Body,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col mb-3"})),l.a.createElement("div",{className:"col"},l.a.createElement("form",{onSubmit:a.handleSubmit},l.a.createElement("div",{className:"form-group row"},l.a.createElement("h1",{className:"col text-center"},"touch&go")),l.a.createElement("div",{className:"form-group row"},l.a.createElement("p",{className:"col text-center"},"Sign up for a free account.")),l.a.createElement("div",{className:"form-group row"},l.a.createElement("input",{id:"email",type:"email",placeholder:"email",className:"form-control",name:"email",onChange:a.handleChange,value:a.values.email,required:!0})),l.a.createElement("div",{className:"form-group row"},l.a.createElement("input",{id:"password",type:"password",placeholder:"password",className:"form-control",name:"password",required:!0,onChange:a.handleChange,value:a.values.password})),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group row mb-0"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("button",{type:"submit",className:"btn btn-info btn-block"},"Register New Account")))))))))},G=t(117),J=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a,{show:e.showAlert,delay:3e3,autohide:!0,style:{position:"absolute",top:"450px",right:"60px",width:"215px",backgroundColor:"lightsteelblue",color:"#fff"}},l.a.createElement(G.a.Header,null,l.a.createElement("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),l.a.createElement("strong",{className:"mr-auto"},"Touch & Go")),l.a.createElement(G.a.Body,null,e.showAlertMessage)))};var z=function(e){var a=Object(n.useState)([]),t=Object(r.a)(a,2),c=t[0],o=t[1],i=Object(n.useState)([]),u=Object(r.a)(i,2),p=u[0],E=u[1],h=Object(n.useState)(!1),g=Object(r.a)(h,2),b=g[0],f=g[1],N=Object(n.useState)(!1),w=Object(r.a)(N,2),S=w[0],y=w[1],O=Object(n.useState)(!1),j=Object(r.a)(O,2),C=j[0],x=j[1],k=Object(n.useState)(!1),L=Object(r.a)(k,2),M=L[0],F=L[1],q=Object(n.useState)(!1),I=Object(r.a)(q,2),A=I[0],_=I[1],R=Object(n.useState)(""),B=Object(r.a)(R,2),V=B[0],D=B[1],H=Object(n.useState)([]),G=Object(r.a)(H,2),z=(G[0],G[1],Object(n.useState)([])),W=Object(r.a)(z,2),$=W[0],K=W[1],X=Object(n.useState)([]),Y=Object(r.a)(X,2),Z=Y[0],ee=Y[1],ae=Object(n.useState)([]),te=Object(r.a)(ae,2),ne=te[0],le=te[1],ce=Object(n.useState)([]),oe=Object(r.a)(ce,2),re=(oe[0],oe[1]),me=function(e){_(!0),D(e),setTimeout((function(){_(!1)}),3e3)},se=function(e){var a=p;a.push(e),E(a)},ie=function(e){alert("modal status changed"),y(!0),x(!1)},de=function(e){d.a.get("http://localhost:8000/api/store/".concat(e)).then((function(e){K(JSON.parse(e.data[0].config)),ee(e.data[1]),console.log(e.data[0])})).catch((function(e){console.log(e)})).then((function(){}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,null,l.a.createElement(v,{isLoggedIn:S,setShowLoginModal:x,setShowRegisterModal:F}),l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/stores/:id"},l.a.createElement(P,{cart:p,getStore:$,handleStoreImageUpdate:e.handleStoreImageUpdate,setShowLoginModal:x,isLoggedIn:S,handleCartSubmit:se,checkLogin:function(){return!!S||(x(!0),!1)},handleAlert:me,handleCartDelete:function(e){var a=p.filter((function(a,t){return e!=t}));E(a)},setProducts:ee,setStoreDetails:re,showProductModal:function(e){f(!0),le(Z[e])},products:Z,modalproduct:ne,closeProductModal:function(){f(!1),le([])},handleCartView:function(e){var a=p.filter((function(a,t){return e!=t}));E(a)},handleGetStore:de,showProduct:b})),l.a.createElement(T,{handleStoreImageUpdate:function(e){console.log(e),o(e)},storeImage:c,handleGetStore:de,handleCartSubmit:se,showLoginModal:C,handleModalLogin:ie})),l.a.createElement(U,{handleAlert:me,showLoginModal:C,setShowLoginModal:x,handleModalLogin:ie,setLogin:y,isLoggedIn:S}),l.a.createElement(Q,{handleAlert:me,showRegisterModal:M,setShowRegisterModal:F}),l.a.createElement(J,{showAlert:A,showAlertMessage:V})))},W=z;document.getElementById("app")&&o.a.render(l.a.createElement(z,null),document.getElementById("app"));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,a,t){e.exports=t(110)},83:function(e,a,t){},84:function(e,a,t){}},[[78,1,2]]]);
//# sourceMappingURL=main.e6b2c3dc.chunk.js.map